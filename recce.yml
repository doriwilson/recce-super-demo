# Preset Checks
# Please see https://docs.datarecce.io/features/preset-checks/
checks:
- name: Row count diff
  description: Check the row count diff for all table models.
  type: row_count_diff
  params:
    select: state:modified,config.materialized:table
- name: Schema diff
  description: Check the schema diff for all nodes.
  type: schema_diff
- name: Customer Orders UTC Date Validation
  description: Validates UTC date conversion in customer_orders. Automatically runs when customer_orders or its upstream dependencies change. Compares first_order_date and last_order_date between base and target - validate that shifts are only 0 or +1 day (ESTâ†’UTC conversion).
  type: query
  params:
    sql_template: |
      select
        customer_id,
        first_order_date,
        last_order_date,
        order_count
      from {{ ref('customer_orders') }}
      order by customer_id
    view_options:
      primary_keys:
        - customer_id
  # This check automatically runs when customer_orders or upstream models change
  # Recce will compare the date values between base and target
  # In the Recce UI, verify that date shifts are only 0 or +1 day (expected UTC conversion)
